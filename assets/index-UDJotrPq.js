(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))u(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&u(a)}).observe(document,{childList:!0,subtree:!0});function t(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function u(r){if(r.ep)return;r.ep=!0;const l=t(r);fetch(r.href,l)}})();const c=Array.from(document.querySelectorAll("nav .nav-button")).reduce((n,e)=>(n[e.href.split("#")[1]]=e,n),{});let i=null,s=null,d=0;const g=new IntersectionObserver(n=>{n.forEach(e=>{let t=e.intersectionRatio*e.boundingClientRect.height;e.target.id===s&&(d=t),t>d&&(console.log("Leaving "+s+" and entering "+e.target.id),s!==null&&c[s].setAttribute("active",!1),s=e.target.id,d=t,i===s?(console.log("Arrived at "+s),i=null,c[s].setAttribute("active",!0)):c[s].setAttribute("active",i===null))})},{root:document.querySelector("main"),rootMargin:"0px 0px -20%",threshold:[0,.01,.02,.03,.04,.05,.06,.07,.08,.09,.1,.12,.14,.16,.18,.2,.25,.3,.4,.5]});document.querySelectorAll("section").forEach(n=>g.observe(n));for(let n in c){let e=c[n];e.onclick=()=>{i=n}}onwheel=()=>{i!==null&&(i=null,c[s].setAttribute("active",!0))};const f=document.querySelectorAll(".image-carousel");let o=new Array(f.length).fill(0);f.forEach((n,e)=>{const t=n.querySelectorAll("&> div:first-child > *"),u=n.querySelectorAll("button"),r=n.querySelector("h5");t.forEach(l=>l.style.display="none"),t[0].style.display="block",r.textContent=o[e]+1+"/"+t.length,u[0].onclick=()=>{t[o[e]].nodeName==="VIDEO"&&t[o[e]].pause(),t[o[e]].style.display="none",o[e]=(o[e]+(t.length-1))%t.length,r.textContent=o[e]+1+"/"+t.length,t[o[e]].style.display="block",t[o[e]].nodeName==="VIDEO"&&t[o[e]].play()},u[1].onclick=()=>{t[o[e]].nodeName==="VIDEO"&&t[o[e]].pause(),t[o[e]].style.display="none",o[e]=(o[e]+1)%t.length,r.textContent=o[e]+1+"/"+t.length,t[o[e]].style.display="block",t[o[e]].nodeName==="VIDEO"&&t[o[e]].play()}});
