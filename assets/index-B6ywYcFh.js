(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))u(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&u(a)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function u(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();const c=Array.from(document.querySelectorAll("nav .nav-button")).reduce((n,e)=>(n[e.href.split("#")[1]]=e,n),{});let i=null,s=null,d=0;const g=new IntersectionObserver(n=>{n.forEach(e=>{let t=e.intersectionRatio*e.boundingClientRect.height;e.target.id===s&&(d=t),t>d&&(console.log("Leaving "+s+" and entering "+e.target.id),s!==null&&c[s].setAttribute("active",!1),s=e.target.id,d=t,i===s?(console.log("Arrived at "+s),i=null,c[s].setAttribute("active",!0)):c[s].setAttribute("active",i===null))})},{root:document.querySelector("main"),rootMargin:"0px 0px -20%",threshold:[0,.01,.02,.03,.04,.05,.06,.07,.08,.09,.1,.12,.14,.16,.18,.2,.25,.3,.4,.5]});document.querySelectorAll("section").forEach(n=>g.observe(n));for(let n in c){let e=c[n];e.onclick=()=>{i=n}}onwheel=()=>{i!==null&&(i=null,c[s].setAttribute("active",!0))};const f=document.querySelectorAll(".image-carousel");let r=new Array(f.length).fill(0);f.forEach((n,e)=>{const t=n.querySelectorAll(".images > *"),u=n.querySelectorAll("button"),o=n.querySelector("h5");t.forEach(l=>l.style.display="none"),t[0].style.display="block",o.textContent=r[e]+1+"/"+t.length,u[0].onclick=()=>{t[r[e]].nodeName==="VIDEO"&&t[r[e]].pause(),t[r[e]].style.display="none",r[e]=(r[e]+(t.length-1))%t.length,o.textContent=r[e]+1+"/"+t.length,t[r[e]].style.display="block",t[r[e]].nodeName==="VIDEO"&&t[r[e]].play()},u[1].onclick=()=>{t[r[e]].nodeName==="VIDEO"&&t[r[e]].pause(),t[r[e]].style.display="none",r[e]=(r[e]+1)%t.length,o.textContent=r[e]+1+"/"+t.length,t[r[e]].style.display="block",t[r[e]].nodeName==="VIDEO"&&t[r[e]].play()}});
