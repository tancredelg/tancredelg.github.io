---
import type { EducationProps } from '../data/education'

const { institution, degree, fromDate, toDate, description } = Astro.props as EducationProps

// Helper to format date range
function formatDateRange(fromDate: string, toDate?: string): string {
    if (!toDate) return `${fromDate} - Present`
    return `${fromDate} - ${toDate}`
}
---

<div class="education-card group/card">
    <h3 class="flex gap-2 items-center font-medium text-xl sm:text-3xl lg:text-2xl">
        {
            institution.logo && (
                <img id="logo" src={institution.logo.src} alt={institution.logo.alt} />
            )
        }
        {institution.name}
    </h3>
    <div id="content">
        <div class="flex flex-col sm:flex-row sm:items-center gap-x-2.5 gap-y-0.5">
            <h4>{degree}</h4>
            <span id="period">
                {formatDateRange(fromDate, toDate)}
            </span>
        </div>
        <p set:html={description} />
    </div>

    <div id="urls">
        {
            institution.url ? (
                <a
                    href={institution.url}
                    target="_blank"
                    class="flex gap-1 items-center bg-white text-neutral-900"
                >
                    Website
                    <img
                        src="src/assets/open-link.svg"
                        alt={'"Open link" SVG'}
                        class="size-4 sm:size-4.5 lg:size-4"
                    />
                </a>
            ) : (
                <span
                    title="Feel free to contact me for more information"
                    class="p-1 px-2 rounded-lg bg-black/85 text-gray-300/85 text-sm
                    opacity-0 group-hover/card:opacity-100
                    transition-all duration-100 ease-out"
                >
                    No links available, sorry!
                </span>
            )
        }
    </div>
</div>
